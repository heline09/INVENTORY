{% extends 'library/base.html' %}
{% load static %}

{% block title %}Assigned Equipment{% endblock title %}

{% block styles %}
{{ block.super }}
<style>
  table.redTable {
    border: 2px solid #A40808;
    background-color: #EEE7DB;
    width: 100%;
    text-align: center;
    border-collapse: collapse;
  }
  .styled-row th{
  background-color: #2E3192 !important;
 }

  table.redTable td,
  table.redTable th {
    border: 1px solid #AAAAAA;
    padding: 3px 2px;
  }

  table.redTable tbody td {
    font-size: 13px;
  }

  table.redTable tr:nth-child(even) {
    background: #F5C8BF;
  }

  table.redTable thead {
    background: #A40808;
  }

  table.redTable thead th {
    font-size: 19px;
    font-weight: bold;
    color: #FFFFFF;
    text-align: center;
    border-left: 2px solid #A40808;
  }

  table.redTable thead th:first-child {
    border-left: none;
  }

  table.redTable tfoot {
    font-size: 13px;
    font-weight: bold;
    color: #FFFFFF;
    background: #A40808;
  }

  table.redTable tfoot td {
    font-size: 13px;
  }

  table.redTable tfoot .links {
    text-align: right;
  }

  table.redTable tfoot .links a {
    display: inline-block;
    background: #FFFFFF;
    color: #A40808;
    padding: 2px 8px;
    border-radius: 5px;
  }
</style>
{% endblock styles %}

{% block navbar %}
{% include "library/navbaradmin.html" %}
{% endblock navbar %}

{% block content %}

<h3 style='font-size: 40px;text-align:center; margin-bottom: 16px; margin-top: 32px;'>Assigned Equipment</h3>
<br>
<table id="table" class="table container">
  <thead class="thead-dark">
    <tr class="styled-row">
      <th scope="col">Student ID</th>
      <th scope="col"> Student Name</th>
      <th scope="col">Tag Number</th>
      <th scope="col">Asset Name</th>
      <th scope="col">Borrow Date</th>
      <th scope="col"></th>
      <th scope="col"></th>
    </tr>
  </thead>
  <tbody>
    {% for student_equipment in assigned_equipment %}
    <tr>
      <td>{{ student_equipment.student.student_id }}</td>
      <td>{{ student_equipment.student.first_name }} {{ student_equipment.student.last_name }}</td>
      <td>{{ student_equipment.equipment.tag_num }}</td>
      <td>{{ student_equipment.equipment.name }}</td>
      <td>{{ student_equipment.borrow_date }}</td>
      <td>
        {% if student_equipment.is_late %}
        <span class="badge bg-danger">Late</span>
        {{ student_equipment.overdue_days }} days
        {% endif %}
      </td>
      <td><a href="{% url 'return_equipment' student_equipment.id %}"
          style="padding: 2px 15px; background-color: #1c4be6; border-radius: 2rem; color: white; text-align: center; text-decoration: none;">RETURN</a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
<!-- <a class="nav-link4" href="{% url 'generate_report' %}">Download PDF Report</a> -->
{% include 'library/pagination.html' %}
{% endblock content %}